<script>
  $('#registraevento').on('shown.bs.modal', function () {
  $('#myInput').focus()
})
</script>
<script>
  $('#registracomponente').on('shown.bs.modal', function () {
  $('#myInput').focus()
})
</script>
<div class="contenedor" style="color:#EEE6E6">
 <center><h1>Editar Discrepancia</h1></center>
<form name="form" novalidate>
  <div class="row" style="margin: 1% 13%;">
     <form>
          <div class="row">
            <div class="col-xs-4">
           <label for="con_nombre">Selecione Taller:</label>
              <br>
           <select ng-model="discrepancia_fo.taller" class="form-control">
              <option value="01">01 MANTENIMIENTO</option>
              <option value="02">02</option>
              <option value="03">03 ELECTRICO</option>
              <option value="04">04 LAMINISTERIA</option>
              <option value="05">05 AVIONICÂ´S</option>
              <option value="06">06 PINTURA</option>
              <option value="07">07 CARPINTERIA</option>
              <option value="08">08 VESTIDURAS</option>
            </select>
            </div>
            <div class="col-xs-4">
             <label for="con_nombre">Selecione Seccion:</label>
              <br>
           <select ng-model="discrepancia_fo.seccion"  class="form-control">
              <option value="01">01 TRABAJOS DE ELECTRICO</option>
              <option value="02">02 PROGRAMADO</option>
              <option value="03">03 TRABAJOS DE INSPECCION</option>
              <option value="04">04 INCORPORACION DE DIRECTIVAS</option>
              <option value="05">05 TRABAJOS DE AVIONICS</option>
            </select>
          </div>
          </div>
           <div class="row">
            <br>
          <label for="con_nombre">&nbsp;&nbsp;Descripcion/description:</label>
          <br>
          <div class="col-xs-11">
          <center><textarea class="form-control" rows="4" cols="30" placeholder="Escriba la Descripcion." ng-model="discrepancia_fo.descripcion">
        </textarea></center>
      </div>
        <br>
        <div class="col-xs-11">
          <br>
        <label for="con_nombre">Acion Tomada:</label>
        <br>
        <center><textarea class="form-control"  rows="4" cols="30" placeholder="Escriba la accion Tomada." ng-model="discrepancia_fo.accion">
        </textarea></center>
            </div>
            </div>
            <div class="row">
        <br>
        <br><br>
         <h3>Componentes Registrados</h3>
    <table class="table table-striped">
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#registracomponente">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Agregar componente</button>
    <thead>
      <tr style="background-color: #201b17c9;">
        <th>Nombre del componente</th>
        <th>descripcion</th>
        <th>cantidad</th>
        <th>Accion</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color: #201b17c9;" ng-repeat="compo in componentes">
        <td>{{compo.nombre_componente}}</td>
        <td>{{compo.descripcion}}</td>
        <td>{{compo.cantidad}}</td>
        <td>
      <button type="button" class="btn btn-default" data-toggle="modal" ng-click="elima_evento(id)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      </td>
      </tr>
    </tbody>
      <tfoot>
      <tr>
        <td colspan="3">Numero de componentes:</td>
        <td ng-bind="componentes.length"></td>
      </tr>
    </tfoot>
  </table>
  <br><br><br>
  <h3>Eventos Registrados</h3>
    <table class="table table-striped">
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#registraevento">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Agregar evento</button>
    <thead>
      <tr style="background-color: #201b17c9;">
        <th>Nombre del evento</th>
        <th>Duracion</th>
        <th>Costo</th>
        <th>Accion</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color: #201b17c9;" ng-repeat="eve in eventos">
        <td>{{eve.nombreEvento}}</td>
        <td>{{eve.duracion}}</td>
        <td>{{eve.costo}}</td>
        <td>
      <button type="button" class="btn btn-default" data-toggle="modal" ng-click="borrar_evento(eve.idEvento)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
               <a ng-href="#/Discrepancia/editar/{{discrepancia.id}}">
                 <button type="button" class="btn btn-default" aria-label="Left Align">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
      </button></a>
      </td>
      </tr>
    </tbody>
      <tfoot>
      <tr>
        <td colspan="3">Numero de eventos:</td>
        <td ng-bind="eventos.length"></td>
      </tr>
    </tfoot>
  </table>
  <br>
  <br>
  <!-- <table class="table table-striped">
    <thead>
      <tr style="background-color: #201b17c9;">
        <th>ID</th>
        <th>Nombre del evento</th>
        <th>Duracion</th>
        <th>Costo</th>
        <th>Accion</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color: #201b17c9;" ng-repeat="evento in eventos">
        <td>{{evento.$$hashKey}}</td>
        <td>{{evento.nombreEvento}}</td>
        <td>{{evento.duracion}}</td>
        <td>{{evento.costo}}</td>
        <td><button type="button" class="btn btn-primary" ng-click="Quitar(evento.$$hashKey)" ng-disabled="form.$invalid">
  <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Quitar
  </button>
<input type ='button' value = 'texto boton' onclick="window.open('http://localhost/aeronau/Detalle_discrepancias.html', 'width=800,height=600');"/>

</td>
      </tr>
    </tbody>
  </table>-->
  </div>
   <br>
  <center><button type="button" class="btn btn-primary" ng-click="guardar_edit()">
  <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>Guardar
  </button></center>
</form>
</div>

<br><br><br><br><br><br><br><br><br><br> 
<!--********************************** Modal ***********************************-->
<div class="modal fade" id="registraevento" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <center><h3 class="modal-title" id="myModalLabel" style="color:#000000">Registro</h3></center>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
      <h4 style="color:#000000">Eventos</h4>
  <label for="matricula" style="color:#000000">Nombre del evento:</label><input class="form-control" placeholder="Escriba el nombre del evento" id="nombreEvento" name="nombreEvento" type="text" ng-model="evento_tabla.nombreEvento" required/>

  <label for="modelo" style="color:#000000">Duracion en horas:</label><input class="form-control" placeholder="Escriba la duracion en horas" id="duracion" name="duracion" type="number" ng-model="evento_tabla.duracion" required/>
  <label for="numeroSerie" style="color:#000000">Costo:</label><input class="form-control" placeholder="Escriba el costo" id="numeroSerie" name="numeroSerie" type="number" ng-model="evento_tabla.costo" required/>
  <br>

      </div>
      <div class="modal-footer">
                 <button type="button" class="btn btn-primary" ng-click="Agregar()" ng-disabled="form.$invalid">
        <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Agregar
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
<!--********************************** Modal Componenete ***********************************-->
<div class="modal fade" id="registracomponente" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <center><h4 class="modal-title" id="myModalLabel">Registra</h4></center>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <h4 style="color:#000000">Coponente</h4>
        <form>
            <div class="row" style="margin: 1% 1%;">
              <label for="d_componente" style="color:#000000">Seleciona componenete de almacen:</label>
        <br>
          <select class="form-control" ng-model="componente.idComponente" >
            <option value="">--Seleccione un Componente--</option>
          <option value="{{p.id}}" ng-repeat="p in listado_inv"  >{{p.d_componente}} Cantidad:{{p.d_cantidad}}</option>
        </select>
        <br><br>
        <label for="numero_piezas" style="color:#000000">Numero de piezas requeridas:</label><input class="form-control" ng-model="componente.cantidad" placeholder="Escriba el No. piezas que se requieren" id="numero_piezas" name="numero_piezas" type="number"/>
            </div>
            </form>
      </div>
      <div class="modal-footer">
          <a ng-href="#/Discrepancias/requisicion/{{foliarrastrado}}">
           <button type="button" class="btn btn-primary" aria-label="Left Align">
  <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>Has una requisicion
</button></a>
           <button type="button" class="btn btn-primary" ng-click="Agregar_componente()">Agregar</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
